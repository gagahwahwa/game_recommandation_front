<app-navbar></app-navbar>
<div class="container" fxLayout="column" fxLayoutGap=".5rem">
  <app-progress-bar [ratingCount]="rateCount$ | async"></app-progress-bar>
  <div class="contents" fxLayout.gt-sm="row" fxLayout.lt-md="column" fxLayoutGap=".5rem">
    <div class="left" fxLayout="column" fxFlex="1 1 75%">
      <div class="tabs" fxLayout="row" fxLayoutGap=".5rem">
        <div class="tab" [ngClass]="{'active': selected === 'rated'}" (click)="selected = 'rated'">
          <p class="title">Rated</p>
        </div>
        <div class="tab" [ngClass]="{'active': selected === 'recommend'}" (click)="selected = 'recommend'">
          <p class="title">Recommend</p>
        </div>
        <div class="tab">
          <p class="title" routerLink="/more-rating">More Rating</p>
        </div>
      </div>
      <div *ngIf="selected === 'rated'">
        <app-game-card-container *ngIf="ratedGameList$ | async as gameList" fxLayout="row" fxLayoutGap=".5rem" [gameList]="gameList"></app-game-card-container>
      </div>
      <div *ngIf="selected === 'recommend'">
        <app-game-card-container *ngIf="recommendGameList$ | async as recommendGameList" fxLayout="row" fxLayoutGap=".5rem"
                                 [gameList]="recommendGameList"
                                 (rateCountChange)="changeRateCount($event)"></app-game-card-container>
      </div>
    </div>
    <div class="right" fxLayout="column" fxLayoutGap="2rem" fxFlex="1 1 25%">
      <div class="card-tag" fxLayout="column" fxLayoutGap="1rem">
        <p>선호하는 장르</p>
        <div *ngIf="tags$ | async as tags">
          <p class="label raise primary" *ngFor="let tag of tags">{{ tag.name }}</p>
        </div>
      </div>
      <div class="card-graph" fxLayoutGap=".5rem">
        <p>평가 그래프</p>
        <br>
        <div class="graph-bar-container">
          <div class="graph-bar" [style.width.%]="indicatedNumber"></div>
        </div>
      </div>
    </div>
  </div>
</div>
